### Traditional Backend Architecture

```
+===============================================================+
|                    Flask Server (Backend)                    |
|  +---------------------------------------------------------+  |
|  |                claude_terminal_api.py                   |  |
|  |                                                         |  |
|  |  +-----------------+    +-------------------------+      |  |
|  |  | /api/terminal/  |    |  tmux Session Manager  |      |  |
|  |  | claude/send     | <> |  - Auto-creation       |      |  |
|  |  | claude/output   |    |  - 5K line capture     |      |  |
|  |  +-----------------+    +-------------------------+      |  |
|  +---------------------------------------------------------+  |
+===============================================================+
                              |
                              v
+===============================================================+
|                        tmux Session                          |
|                                                               |
|  +-----------------+    +---------------------------------+   |
|  |  claude-session |    |         Claude Code CLI         |   |
|  |  50K history    | <> |  claude -c --dangerously-skip- |   |
|  |  ANSI colors    |    |  permissions                    |   |
|  +-----------------+    +---------------------------------+   |
+===============================================================+
```

### Frontend Architecture (VS Code Light Theme)

```
+===============================================================+
|              iPhone PWA Interface (Light Theme)              |
|                                                               |
|  +---------------------------------------------------------+  |
|  |                   Header (Light Gray)                  |  |
|  |   [≡] Claude Terminal   [A-][A+] [●Connected]          |  |
|  +---------------------------------------------------------+  |
|                                                               |
|  +---------------------------------------------------------+  |
|  |              Terminal Output (White BG)                |  |
|  |                                                         |  |
|  |  • 256-Color ANSI Parsing (Light Optimized)            |  |
|  |  • Smart Typing Detection (1.5s timeout)               |  |
|  |  • Protected Touch Selection                           |  |
|  |  • Zero-Lag Input Processing                           |  |
|  |  • CSS Variables Theme System                          |  |
|  +---------------------------------------------------------+  |
|                                                               |
|  +---------------------------------------------------------+  |
|  |  [Message Claude...        ] [ESC] [Send]              |  |
|  +---------------------------------------------------------+  |
+===============================================================+
```
